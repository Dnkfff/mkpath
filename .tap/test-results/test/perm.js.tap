TAP version 14
# Subtest: async perm
    1..2
    not ok 1 - should be equal
      ---
      compare: ===
      at:
        fileName: test\perm.js
        lineNumber: 18
        columnNumber: 19
        isToplevel: true
      stack: |
        test/perm.js:18:19
      source: "            if (err) t.fail(err)\r
      
        \            else {\r
      
        \                t.equal(stat.mode & 0777, 0755);\r
      
        ------------------^
      
        \                t.ok(stat.isDirectory(), 'target not a directory');\r
      
        \                t.end();\n"
      diff: |
        --- expected
        +++ actual
        @@ -1,1 +1,1 @@
        -493
        +438
      ...
    
    ok 2 - target not a directory
not ok 1 - async perm # time=38.387ms
  ---
  at:
    fileName: test\perm.js
    lineNumber: 9
    columnNumber: 1
    typeName: Object
  source: "\r
  
    \ // I honestly do not understand those magic numbers, which are there like
    0777, 0755. \r
  
    test('async perm', function (t) {\r
  
    ^
  
    \    t.plan(2);\r
  
    \    let file = '/tmp/' + (Math.random() * (1<<30)).toString(16);\n"
  ...

# Subtest: async root perm
    1..0
ok 2 - async root perm # time=0.41ms

not ok 3 - test end() method called more than once
  ---
  stack: |
    test/perm.js:29:11
    mkpath.js:39:13
  at:
    fileName: test\perm.js
    lineNumber: 29
    columnNumber: 11
  cause:
    test: async root perm
  test: async root perm
  source: "    mkpath('/tmp', 0755, function (err) {\r
  
    \        if (err) t.fail(err);\r
  
    \        t.end();\r
  
    ----------^
  
    \    });\r
  
    \    t.end();\n"
  ...

1..3
